---
title: Хеш-таблица, использующая перемешивание сцеплением
created: 2025-06-12
tags:
  - dsa
links:
  - "[[Хэш Таблица]]"
---
![[Pasted image 20250612131441.png]]

## Поиск в таблице
![[Pasted image 20250612131540.png]]

```c
KeySpace* search(HashTable t, int key){
	if (t.csize == 0){
		return NULL;
	}
	int i = hash(key) % t.msize;
	KeySpace* ks = t.data[i];
	while(ks){
		if (ks->key == key){
			return ks;
		}
		ks = ks->next;
	}
	return NULL;
}
```

## Вставка

```c
int insert(Table t, int key, int info){
	int i = hash(key) % table.msize;
	if (search(t, key)){
		return -1;
	}
	KeySpace* ks = ks_new(key, info);
	ks->next = t.data[i];
	t.data[i] = ks;
	return 0;
}
```
![[Pasted image 20250612132301.png]]

**Важно:** Вставка идёт в начало списка, чтобы соблюсти алгоритмическую сложность $O(1)$

## Удаление

```c
int erase(Table t, int key){
	if (t.csize == t.msize){
		return -1;
	}
	uint i = hash(key) % t.msize;
	KeySpace* cur = t.data[i], prev = nullptr;
	while(cur){
		if(cur->key == key){
			break;
		}
		prev = cur;
		cur = cur->next;
	}
	if (!cur){
		return -1;
	}
	if (!prev){
		t.data[i] = t.data[i]->next;
		
	} else {
		prev->next = cur->next;
	}
	delete_ks(cur);
	return 0;
}
```

![[Pasted image 20250612132832.png]]

## Оценки эффективности

$n$ - количество элементов
$m$ - размер вектора 
Коэффициент заполнения таблицы $\sigma = \frac{n}{m}$  - среднее  кол-во элементов в одном списке
Возможно, что $\sigma<1,\sigma=1,\sigma>1$

Наихудшее время поиска $O(n)$

Но при равномерном распределении ключей
Среднее время поиска равно $O(\sigma)$, Следовательно и вставка с удалением будут иметь сложность $O(\sigma)$.

